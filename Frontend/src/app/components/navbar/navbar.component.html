<!-- src/app/components/navbar/navbar.component.html -->
<nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom">
  <div class="container-fluid">
    
    <div class="d-flex align-items-center">
      <!-- Botón hamburguesa para móvil -->
      @if (isMobile()) {
        <button class="btn btn-link text-dark p-0 me-3" 
                type="button"
                (click)="toggleSidebar()">
          <i class="bi bi-list" style="font-size: 1.5rem;"></i>
        </button>
      }
      
      <!-- Título -->
      <span class="navbar-brand mb-0 h1">Panel de Control</span>
    </div>

    <!-- Lado derecho -->
    <div class="d-flex align-items-center">
      

      <!-- Dropdown Usuario -->
      <div class="dropdown">
        <button 
          class="btn btn-link dropdown-toggle text-dark d-flex align-items-center p-0" 
          type="button" 
          (click)="toggleDropdown()"
          [class.show]="isDropdownOpen()">
          
          <!-- Avatar -->
          <div class="rounded-circle bg-primary text-white d-flex align-items-center justify-content-center me-2" 
               style="width: 35px; height: 35px; font-size: 0.9rem;">
            @if (!isLoading()) {
              <span>{{ avatarInitials() }}</span>
            } @else {
              <div class="spinner-border spinner-border-sm text-light" role="status">
                <span class="visually-hidden">Loading...</span>
              </div>
            }
          </div>
          
          <!-- Nombre y Rol -->
          <div class="text-start me-2">
            <div class="fw-semibold" style="font-size: 0.9rem; line-height: 1.2;">
              {{ displayName() }}
            </div>
            <div class="text-muted" style="font-size: 0.75rem; line-height: 1;">
              {{ displayRole() }}
            </div>
          </div>
          
          <!-- Icono dropdown -->
          <i class="bi bi-chevron-down" style="font-size: 0.8rem;"></i>
        </button>

        <!-- Menu Dropdown -->
        <ul class="dropdown-menu dropdown-menu-end" 
            [class.show]="isDropdownOpen()"
            (click)="$event.stopPropagation()">
          
          <!-- Preguntas Frecuentes -->
          <li>
            <button class="dropdown-item d-flex align-items-center" 
                    type="button" 
                    (click)="showFAQ()">
              <i class="bi bi-question-circle me-2"></i>
              Preguntas Frecuentes
            </button>
          </li>
          
          <!-- Contacto -->
          <li>
            <button class="dropdown-item d-flex align-items-center" 
                    type="button" 
                    (click)="showContact()">
              <i class="bi bi-envelope me-2"></i>
              Contáctenos
            </button>
          </li>
          
          <li><hr class="dropdown-divider"></li>
          
          <li>
            <button class="dropdown-item d-flex align-items-center text-danger" 
                    type="button" 
                    (click)="logout()">
              <i class="bi bi-box-arrow-right me-2"></i>
              Cerrar Sesión
            </button>
          </li>
        </ul>
      </div>

    </div>
  </div>
</nav>